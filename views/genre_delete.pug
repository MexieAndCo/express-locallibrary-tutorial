//- 2021-08-02 20:53
//- genre_delete.
//- I'm copying this from the downloaded project repo, i.e. from
//- C:\Users\Larry\Learning\Node\MDN\Node_and_Express\local_library_repo\express-locallibrary-tutorial\views
//-
//- The view extends the layout template, overriding the block named 
//- content. At the top it displays the genre details. This view is
//- based on author_delete.pug.
//-
//- If there are books associated with the author then the page lists the 
//- books and states that these must be deleted before this Author may be 
//- deleted.
//- 
//- If the Delete button is clicked then the genre id is sent to the 
//- server in a POST request and that genre record will be deleted.
//- 
extends layout

block content
  h2 Delete Genre: #{genre.name}
  
  if genre_books.length
  
    p #[strong Delete the following books before attempting to delete this genre.]
  
    div(style='margin-left:20px;margin-top:20px')

      h4 Books
    
      dl
      each book in genre_books
        dt 
          a(href=book.url) #{book.title}
        dd #{book.summary}

  else
    p Do you really want to delete this Genre?
    
    form(method='POST' action='')
      div.form-group
        input#id.form-control(type='hidden', name='id', required='true', value=genre._id )

      button.btn.btn-primary(type='submit') Delete